# $Id: Dockerfile-galera-mysql8 398 2021-06-22 07:13:49Z bpahlawa $
# $Author: bpahlawa $
# Created: 26-APR-2021
# Modified by: bpahlawa
# $Date: 2021-06-22 15:13:49 +0800 (Tue, 22 Jun 2021) $
# $Revision: 398 $
#
# Run without Rebuild
# docker run -it --name mysql8 -p 3306:3306 -v /opt/mysql:/var/lib/mysql -v /opt/mysql/conf:/etc/mysql/mysql.conf.d galera-mysql8
#
# or
#
# Rebuild DBCONFIG and DATABASE
# docker run -it --name mysql8 -p 3306:3306 -v /opt/mysql:/var/lib/mysql -v /opt/mysql/conf:/etc/mysql.conf.d -e MYSQL_DBCONFIG_REBUILD=yes -e MYSQL_DATABASE_REBUILD=yes galera-mysql8
#
# docker run -it --name mysql8 --network host -v /opt/mysql:/var/lib/mysql -v /opt/mysql/conf:/etc/mysql.conf.d -e MYSQL_DBCONFIG_REBUILD=yes -e MYSQL_DATABASE_REBUILD=yes galera-mysql8
#
# for donor node (galera active):
# Rebuild DBCONFIG with HOST network
# docker run -it --name mysql8  --network host -v /opt/mysql:/var/lib/mysql -v /opt/mysql/conf:/etc/mysql.conf.d -e GALERA_CLUSTER_BOOTSTRAP=yes -e MYSQL_DBCONFIG_REBUILD=yes galera-mysql8
#
# Run without Rebuild with HOST network
# docker run -it --name mysql8  --network host -v /opt/mysql:/var/lib/mysql -v /opt/mysql/conf:/etc/mysql.conf.d galera-mysql8
#
# for joiner node:
# Rebuild DBCONFIG and DATABASE with HOST network
# docker run -it --name mysql8  --network host -v /opt/mysql:/var/lib/mysql -v /opt/mysql/conf:/etc/mysql/mysql.conf.d -e MYSQL_DBCONFIG_REBUILD=yes -e MYSQL_DATABASE_REBUILD=yes -e GALERA_CLUSTER_ADDRESS="gcomm://192.168.0.178" galera-mysql8
#
# Run without Rebuild DBCONFIG and DATABASE with HOST network
# docker run -it --name mysql8  --network host -v /opt/mysql:/var/lib/mysql -v /opt/mysql/conf:/etc/mysql/mysql.conf.d -e GALERA_CLUSTER_ADDRESS="gcomm://192.168.0.158" galera-mysql8
#
#
#
# add Entrypoint to Dockerfile
# echo -e "RUN echo \"$(cat gmysql8.env | base64 -w0)\" | base64 -d > /usr/local/bin/gmysql8.env\nRUN chmod ugo+x /usr/local/bin/gmysql8.env" >> Dockerfile-galera-mysql8
# echo -e "RUN echo \"$(cat entrypoint-gmysql8.sh | base64 -w0)\" | base64 -d > /usr/local/bin/entrypoint-gmysql8.sh\nRUN chmod ugo+x /usr/local/bin/entrypoint-gmysql8.sh\nENTRYPOINT [\"/usr/local/bin/entrypoint-gmysql8.sh\"]" >> Dockerfile-galera-mysql8
#
# where:
# /opt/mysql (on Host)      is mapped to /var/lib/mysql (on Container)
# /opt/mysql/conf (on Host) is mapped to /etc/my.cnf.d (on Container)
# MYSQL_DBCONFIG_REBUILD=yes (re-create /etc/my.cnf.d/server.cnf
# MYSQL_DATABASE_REBUILD=yes (destroy and re-create database under directory /var/lib/mysql/data )
# --network host (it uses host network, NOTE: galera must use network host if it requires to have multimaster replication on a different node)
#
# NOTE: for all default environment variable please check galera.env file
#
# How to build this Dockerfile
# Run the following command where Dockerfile exists
#
# docker build --tag galera-mysql8 -f ./Dockerfile-galera-mysql8 /mnt

FROM debian:latest
MAINTAINER brpahlaw

WORKDIR /usr/local/bin
ENV DEBIAN_FRONTEND noninteractive
RUN apt-get update
RUN apt-get -y upgrade
RUN apt-get -y install lsb-release gnupg wget software-properties-common
RUN apt-key adv --keyserver keyserver.ubuntu.com --recv BC19DDBA
RUN echo "deb https://releases.galeracluster.com/galera-4/debian buster main" > /etc/apt/sources.list.d/galera.list
RUN echo "deb https://releases.galeracluster.com/mysql-wsrep-8.0.23-26.6/debian buster main" >> /etc/apt/sources.list.d/galera.list
RUN apt-get update
RUN apt-get -y install galera-4 galera-arbitrator-4 mysql-wsrep-8.0 busybox rsync ssh
RUN busybox --install
RUN rm -f /usr/bin/tar
RUN echo "IyEvYmluL2Jhc2gKIyAkSWQ6IGdhbGVyYS5lbnYgMzc4IDIwMjEtMDQtMjYgMDk6Mzc6NDJaIGJwYWhsYXdhICQKIyBDcmVhdGVkIDE5LUFQUi0yMDIxCiMgJEF1dGhvcjogYnBhaGxhd2EgJAojICREYXRlOiAyMDIxLTA0LTI2IDE3OjM3OjQyICswODAwIChNb24sIDI2IEFwciAyMDIxKSAkCiMgJFJldmlzaW9uOiAzNzggJAoKZXhwb3J0IE1ZU1FMX0RBVEFCQVNFX1JFQlVJTEQ9JHtNWVNRTF9EQVRBQkFTRV9SRUJVSUxEOi1ub30KZXhwb3J0IE1ZU1FMX0RCQ09ORklHX1JFQlVJTEQ9JHtNWVNRTF9EQkNPTkZJR19SRUJVSUxEOi1ub30KZXhwb3J0IEdBTEVSQV9DTFVTVEVSX05BTUU9JHtHQUxFUkFfQ0xVU1RFUl9OQU1FOi1teWNsdXN0ZXJ9CmV4cG9ydCBHQUxFUkFfQ0xVU1RFUl9CT09UU1RSQVA9JHtHQUxFUkFfQ0xVU1RFUl9CT09UU1RSQVA6LW5vfQpleHBvcnQgR0FMRVJBX0NMVVNURVJfQUREUkVTUz0ke0dBTEVSQV9DTFVTVEVSX0FERFJFU1M6LSJnY29tbTovLyJ9CmV4cG9ydCBHQUxFUkFfQ0xVU1RFUl9BQ1RJVkU9JHtHQUxFUkFfQ0xVU1RFUl9BQ1RJVkU6LSJ5ZXMifQpleHBvcnQgR0FMRVJBX0JPT1RTVFJBUF9ESVI9IiR7TVlTUUxfQkFTRV9ESVJ9Ly5ib290c3RyYXAiCmV4cG9ydCBHQUxFUkFfQk9PVFNUUkFQX0ZJTEU9IiR7R0FMRVJBX0JPT1RTVFJBUF9ESVJ9L2RvbmUiCmV4cG9ydCBVU0VfQ09OVEFJTkVSX0FERFJFU1M9JHtVU0VfQ09OVEFJTkVSX0FERFJFU1M6LXllc30KZXhwb3J0IEdBTEVSQV9ERUZBVUxUX05PREVOQU1FPSR7R0FMRVJBX0RFRkFVTFRfTk9ERU5BTUU6LSQoaG9zdG5hbWUgLXMpfQpleHBvcnQgR0FMRVJBX0RFRkFVTFRfQUREUkVTUz0ke0dBTEVSQV9ERUZBVUxUX0FERFJFU1M6LSQoaG9zdG5hbWUgLWkgfCBhd2sgJ3twcmludCAkMX0nKX0KZXhwb3J0IE1ZU1FMX1JPT1RfUEFTU1dPUkQ9JHtNWVNRTF9ST09UX1BBU1NXT1JEOi0iRzBka24wd3MifQpleHBvcnQgTVlTUUxfREFUQUJBU0VfTkFNRT0ke01ZU1FMX0RBVEFCQVNFX05BTUU6LW15ZGJ9CmV4cG9ydCBNWVNRTF9EQVRBQkFTRV9VU0VSPSR7TVlTUUxfREFUQUJBU0VfVVNFUjotYWRtaW59CmV4cG9ydCBNWVNRTF9EQVRBQkFTRV9VU0VSUEFTUz0ke01ZU1FMX0RBVEFCQVNFX1VTRVJQQVNTOi1wYXNzd29yZH0KZXhwb3J0IE1ZU1FMX1JFUExJQ0FUSU9OX1VTRVI9JHtNWVNRTF9SRVBMSUNBVElPTl9VU0VSOi1yZXBsdXNlcn0KZXhwb3J0IE1ZU1FMX1JFUExJQ0FUSU9OX1VTRVJQQVNTPSR7TVlTUUxfUkVQTElDQVRJT05fVVNFUlBBU1M6LXBhc3N3b3JkfQpleHBvcnQgTVlTUUxfQkFTRV9ESVI9JHtNWVNRTF9CQVNFX0RJUjotL3Zhci9saWIvbXlzcWx9CmV4cG9ydCBNWVNRTF9EQVRBQkFTRV9ESVI9JHtNWVNRTF9EQVRBQkFTRV9ESVI6LSR7TVlTUUxfQkFTRV9ESVJ9L2RhdGF9CmV4cG9ydCBNWVNRTF9ERUZBVUxUX1BPUlQ9JHtNWVNRTF9ERUZBVUxUX1BPUlQ6LTMzMDZ9CmV4cG9ydCBNWVNRTF9URU1QX0RJUj0ke01ZU1FMX1RFTVBfRElSOi0ke01ZU1FMX0JBU0VfRElSfS90bXB9CmV4cG9ydCBNWVNRTF9TT0NLRVRfRklMRT0ke01ZU1FMX1NPQ0tFVF9GSUxFOi0ke01ZU1FMX1RFTVBfRElSfS9teXNxbC5zb2NrfQpleHBvcnQgTVlTUUxfUElEX0ZJTEU9JHtNWVNRTF9QSURfRklMRTotJHtNWVNRTF9URU1QX0RJUn0vbXlzcWxkLnBpZH0KZXhwb3J0IE1ZU1FMX0JJTkRfQUREUkVTUz0ke01ZU1FMX0JJTkRfQUREUkVTUzotMC4wLjAuMH0KZXhwb3J0IE1ZU1FMX0xPR1NfRElSPSR7TVlTUUxfTE9HU19ESVI6LSR7TVlTUUxfQkFTRV9ESVJ9L2xvZ3N9CmV4cG9ydCBNWVNRTF9ERUZBVUxUX0NIQVJTRVQ9JHtNWVNRTF9ERUZBVUxUX0NIQVJTRVQ6LSJ1dGY4bWI0In0KZXhwb3J0IE1ZU1FMX0RFRkFVTFRfQ09MTEFURT0ke01ZU1FMX0RFRkFVTFRfQ09MTEFURTotInV0ZjhtYjRfZ2VuZXJhbF9jaSJ9CmV4cG9ydCBNWVNRTF9QTFVHSU5fRElSPSR7TVlTUUxfUExVR0lOX0RJUjotJHtNWVNRTF9CQVNFX0RJUn0vcGx1Z2lufQpleHBvcnQgTVlTUUxfQkFDS1VQX1VTRVI9JHtNWVNRTF9CQUNLVVBfVVNFUjotImJrcHVzZXIifQpleHBvcnQgTVlTUUxfQkFDS1VQX1VTRVJQQVNTPSR7TVlTUUxfQkFDS1VQX1VTRVJQQVNTOi0icGFzc3dvcmQifQpleHBvcnQgTVlTUUxfU1NUX01FVEhPRD0ke01ZU1FMX1NTVF9NRVRIT0Q6LSJyc3luYyJ9CmV4cG9ydCBNWVNRTF9BVVRIX1BMVUdJTj0ke01ZU1FMX0FVVEhfUExVR0lOOi0ibXlzcWxfbmF0aXZlX3Bhc3N3b3JkIn0K" | base64 -d > /usr/local/bin/gmysql8.env
RUN chmod ugo+x /usr/local/bin/gmysql8.env
RUN echo "IyEvYmluL2Jhc2gKIyAkSWQ6IGVudHJ5cG9pbnQuc2ggMzg1IDIwMjEtMDUtMTggMDg6NTE6MDVaIGJwYWhsYXdhICQKIyBDcmVhdGVkIDE5LUFQUi0yMDIxCiMgJEF1dGhvcjogYnBhaGxhd2EgJAojICREYXRlOiAyMDIxLTA1LTE4IDE2OjUxOjA1ICswODAwIChUdWUsIDE4IE1heSAyMDIxKSAkCiMgJFJldmlzaW9uOiAzODUgJAoKCnNvdXJjZSAuL2dteXNxbDguZW52CgojIFVzZXIgc3BlY2lmaWMgZW52aXJvbm1lbnQgYW5kIHN0YXJ0dXAgcHJvZ3JhbXMKUkVERk9OVD0iXGVbMzg7NTsxOTdtIgpHUkVFTkZPTlQ9IlxlWzM4OzU7ODJtIgpOT1JNQUxGT05UPSJcZVswbSIKQkxVRUZPTlQ9IlxlWzM4OzU7MTIzbSIKWUVMTE9XRk9OVD0iXGVbMzg7NTsyMjltIgpWRVJTSU9OX0lEPSIiCkFMTFZFUj0iIgpleHBvcnQgRElTVFJPPSIiClBLR0RJU1RSTz0iIgpSVU5QS0dVUERBVEU9IjEiCkxPR0ZJTEU9L3RtcC8kKGJhc2VuYW1lICQwIHwgY3V0IC1mMSAtZC4pLmxvZwpEQlVTRVI9Im15c3FsIgpXU1JFUE5FV0NMVVNURVI9IiIKCklOSUZJTEU9Ii9ldGMvbXlzcWwvbXlzcWwuY29uZi5kL215c3FsZC5jbmYiCgp0cmFwIGV4aXRzaGVsbCBTSUdJTlQgU0lHVEVSTQoKZGF0ZSA+ICRMT0dGSUxFCgpjaGVja2luZ19yZXFkX3Rvb2xzKCkKewogICB3aGljaCAtLXZlcnNpb24gMj4vZGV2L251bGwgMT4vZGV2L251bGwKICAgW1sgJD8gLW5lIDAgXV0gJiYgZGlzcGxheV9vdXRwdXQgIiR7UkVERk9OVH13aGljaCBjb21tYW5kIGRvZXNudCBleGlzdCwgcGxlYXNlIGluc3RhbGwgaXQuLi4iICYmIGV4aXQKICAgc29jYXQgLVYgMj4vZGV2L251bGwgMT4vZGV2L251bGwKICAgW1sgJD8gLW5lIDAgXV0gJiYgZGlzcGxheV9vdXRwdXQgIiR7UkVERk9OVH1zb2NhdCBjb21tYW5kIGRvZXNudCBleGlzdCwgcGxlYXNlIGluc3RhbGwgaXQuLi4iICYmIGV4aXQKfQoKZ2V0X2FsbF9zZWN0aW9ucygpCnsKICAgc2VkIC1uICdzL15bIFx0XSpcW1woLipcKVxdLiovXDEvcCcgIiRJTklGSUxFIgp9CgpnZXRfdmFsdWUoKQp7CiAgIGxvY2FsIFNFQ1RJT049IiQxIgogICBsb2NhbCBLRVk9IiQyIgogICBbWyAiJEtFWSIgPSAiIiB8fCAiJFNFQ1RJT04iID0gIiIgXV0gJiYgZGlzcGxheV9vdXRwdXQgIiR7UkVERk9OVH1TRUNUSU9OIGFuZCBLRVkgbXVzdCBiZSBzcGVjaWZpZWQhISIgJiYgcmV0dXJuCiAgIHNlZCAtbiAiL15bIFx0XSpcWyRTRUNUSU9OXF0vLC9cWy9zL15bIFx0XSokS0VZWyBcdF0qPVsgXHRdKi8vcCIgIiRJTklGSUxFIiAyPi9kZXYvbnVsbAp9CgoKcnVuX2NsdXN0ZXIoKQp7CiAgIGlmIFsgIiRHQUxFUkFfQ0xVU1RFUl9CT09UU1RSQVAiID0gInllcyIgXQogICB0aGVuCiAgICAgIEdBTEVSQV9DTFVTVEVSX0FERFJFU1M9Imdjb21tOi8vIgogICAgICBXU1JFUE5FV0NMVVNURVI9Ii0td3NyZXAtbmV3LWNsdXN0ZXIiCiAgICAgIGlmIFsgLWYgJE1ZU1FMX0RBVEFCQVNFX0RJUi9ncmFzdGF0ZS5kYXQgXQogICAgICB0aGVuCiAgICAgICAgICBzZWQgLWkgInN8Xlwoc2FmZV90b19ib290c3RyYXA6LipcKTAuKnxcMTF8ZyIgIiRNWVNRTF9EQVRBQkFTRV9ESVIvZ3Jhc3RhdGUuZGF0IiAgICAgICAgIAogICAgICBmaQogICBmaQp9CgoKZ2V0X2tleXZhbHVlKCkKewogICBsb2NhbCBTRUNUSU9OPSIkMSIKICAgW1sgIiRTRUNUSU9OIiA9ICIiIF1dICYmIGRpc3BsYXlfb3V0cHV0ICIke1JFREZPTlR9U0VDVElPTiBtdXN0IGJlIHNwZWNpZmllZCEhIiAmJiByZXR1cm4KICAgc2VkIC1uICIvXlsgXHRdKlxbJFNFQ1RJT05cXS8sL1xbL3MvXlsgXHRdKlwoW14jOyBcdF1bXiBcdD1dKlwpLio9WyBcdF0qXCguKlwpL1wxPVwyL3AiICIkSU5JRklMRSIgMj4vZGV2L251bGwKfQoKc2V0X3ZhbHVlKCkKewogICBsb2NhbCBTRUNUSU9OPSIkMSIKICAgbG9jYWwgS0VZPSIkMiIKICAgbG9jYWwgTkVXVkFMPSIkMyIKICAgW1sgIiRLRVkiID0gIiIgfHwgIiRTRUNUSU9OIiA9ICIiIHx8ICIkTkVXVkFMIiA9ICIiIF1dICYmIGRpc3BsYXlfb3V0cHV0ICIke1JFREZPTlR9U0VDVElPTiwgS0VZIGFuZCBORVdWQUwgbXVzdCBiZSBzcGVjaWZpZWQhISIgJiYgcmV0dXJuCiAgIE9MREtFWVZBTD0kKGdldF9rZXl2YWx1ZSAiJFNFQ1RJT04iIHwgZ3JlcCAiXiR7S0VZfVtcc10qPS4qIiApCiAgIFtbICIkT0xES0VZVkFMIiA9ICIiIF1dICYmIGRpc3BsYXlfb3V0cHV0ICIke1JFREZPTlR9U2VjdGlvbiAkU0VDVElPTiB3aXRoIEtleXZhbHVlICRPTERLRVlWQUwgaXMgbm90IGF2YWlsYWJsZSwgdGhlcmVmb3JlIHZhbHVlIGNhbiBub3QgYmUgY2hhbmdlZCEhIiAmJiByZXR1cm4KICAgTE5PMlJFUExDPSQoZ3JlcCAtbiAiXiR7S0VZfVtcc10qPS4qIiAiJElOSUZJTEUiIHwgY3V0IC1mMSAtZCI6IikKICAgTkVXS0VZVkFMPSQoIGVjaG8gIiRPTERLRVlWQUwiIHwgc2VkICJzL1woXiRLRVkuKj1cKS4qL1wxJE5FV1ZBTC8iKQogICBpZiBbWyAiJE9MREtFWVZBTCIgIT0gIiIgJiYgIiRORVdLRVlWQUwiICE9ICIiIF1dCiAgIHRoZW4KICAgICAgc2VkIC1pICIke0xOTzJSRVBMQ31zLy4qLyRORVdLRVlWQUwvIiAiJElOSUZJTEUiCiAgICAgIFtbICQ/IC1lcSAwIF1dICYmIGRpc3BsYXlfb3V0cHV0ICIke0dSRUVORk9OVH1TZWN0aW9uICRTRUNUSU9OIGxpbmUgJE9MREtFWVZBTCBhdCBsaW5lIyAkTE5PMlJFUExDIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggJE5FV0tFWVZBTCIKICAgZWxzZQogICAgICBkaXNwbGF5X291dHB1dCAiJHtSRURGT05UfWVpdGhlciBvbGQga2V5dmFsdWUgb3IgbmV3IGtleXZhbHVlIGlzIGVtcHR5ISFcbm9sZCBrZXl2YWx1ZSA9ICRPTERLRVlWQUwgXG5uZXcga2V5dmFsdWUgPSAkTkVXS0VZVkFMIgogICBmaQp9CgphZGRfa2V5dmFsdWUoKQp7CiAgbG9jYWwgU0VDVElPTj0iJDEiCiAgbG9jYWwgS0VZVkFMPSIkMiIKICBsb2NhbCBBRlRFUktFWT0iJDMiCiAgW1sgIiRTRUNUSU9OIiA9ICIiIHx8ICIkS0VZVkFMIiA9ICIiIF1dICYmIGRpc3BsYXlfb3V0cHV0ICIke1JFREZPTlR9U0VDVElPTiBhbmQgbmV3IEtleXZhbHVlIG11c3QgYmUgc3BlY2lmaWVkISEiICYmIHJldHVybgogIExOT1NFQ1RJT049JChncmVwIC1uICJeXFske1NFQ1RJT059XF0uKiIgIiRJTklGSUxFIiB8IGN1dCAtZjEgLWQiOiIpCiAgaWYgWyAiJEFGVEVSS0VZIiAhPSAiIiBdCiAgdGhlbgogICAgIExOTzJNQVJLPSQoZ3JlcCAtbiAiXiR7QUZURVJLRVl9W1xzXSo9LioiICIkSU5JRklMRSIgfCBjdXQgLWYxIC1kIjoiKQogIGVsc2UKICAgICBMTk8yTUFSSz0iJExOT1NFQ1RJT04iCiAgZmkKICBbWyAkTE5PMk1BUksgLWx0ICRMTk9TRUNUSU9OICYmICRMTk8yTUFSSyAtbHQgMSBdXSAmJiBkaXNwbGF5X291dHB1dCAiJHtSRURGT05UfVRoZXJlIGFyZSBkdXBsaWNhdGUga2V5cy4uIiAmJiByZXR1cm4KICBzZWQgLWkgIiRMTk8yTUFSSyBhICRLRVlWQUwiICIkSU5JRklMRSIKICBbWyAkPyAtZXEgMCBdXSAmJiBkaXNwbGF5X291dHB1dCAiJHtHUkVFTkZPTlR9S2V5dmFsdWUgJEtFWVZBTCBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgYWRkZWQgaW50byBTZWN0aW9uICRTRUNUSU9OIGF0IGxpbmUjICQoKCBMTk8yTUFSSyArIDEgKSkiCn0KCgpleGl0c2hlbGwoKQp7CiAgIGRpc3BsYXlfb3V0cHV0ICIke05PUk1BTEZPTlR9Q2FuY2VsbGluZyBzY3JpcHQuLi4uZXhpdGluZy4uLi4uIgogICBbWyAhIC1kICIkTVlTUUxfREFUQUJBU0VfRElSL215c3FsIiAmJiAtZCAkTVlTUUxfREFUQUJBU0VfRElSICYmICIkTVlTUUxfREFUQUJBU0VfRElSIiAhPSAiLyIgXV0gJiYgZGlzcGxheV9vdXRwdXQgIiR7R1JFRU5GT05UfVJlbW92aW5nIGRpcmVjdG9yeSAkTVlTUUxfREFUQUJBU0VfRElSIiAmJiBybSAtcmYgJE1ZU1FMX0RBVEFCQVNFX0RJUgogICBbWyAtZiAkTVlTUUxfTE9HU19ESVIvbXlzcWxkLmxvZyBdXSAmJiBkaXNwbGF5X291dHB1dCAiJHtHUkVFTkZPTlR9UmVtb3ZpbmcgTXlTUUwgbG9nIGZpbGUgJE1ZU1FMX0xPR1NfRElSL215c3FsZC5sb2ciICYmIHJtIC1mICRNWVNRTF9MT0dTX0RJUi9teXNxbGQubG9nCiAgIGV4aXQgMAp9CgoKZGlzcGxheV9vdXRwdXQoKQp7CiAgIGxvY2FsIE1FU1NBR0U9IiQxIgogICBsb2NhbCBISURFPSIkMiIKCiAgIFtbICIkSElERSIgPSAiMSIgfHwgIiRISURFIiA9ICIiIF1dICYmIGVjaG8gLWUgIiRNRVNTQUdFJHtOT1JNQUxGT05UfSIKICAgW1sgIiRISURFIiA9ICIyIiB8fCAiJEhJREUiID0gIiIgXV0gJiYgZWNobyAtZSAiJE1FU1NBR0UiIHwgc2VkIC1yICJzL1tbOmNudHJsOl1dXFsoWzAtOV17MSwzfTspKlswLTldezEsM31tLy9nIiA+PiAkTE9HRklMRQp9CgoKCnJ1bl9teXNxbF9jbWQoKQp7CiAgVEhFQ01EPSIkMSIKICBteXNxbCAtdSByb290IDw8IQokVEhFQ01ECiEKCiAgaWYgWyAkPyAtbmUgMCBdCiAgdGhlbgogICAgIGRpc3BsYXlfb3V0cHV0ICIke1JFREZPTlR9RmFpbGVkIHRvIGV4ZWN1dGUgdGhlIGxhc3QgU3RhdGVtZW50ISEiCiAgZWxzZQogICAgIGRpc3BsYXlfb3V0cHV0ICIke0JMVUVGT05UfVN0YXRlbWVudCBleGVjdXRlZCBzdWNjZXNzZnVsbHkiCiAgZmkKICAgICAgICAgCn0KCmdldF9waWQoKSB7CiAgICBsb2NhbCBQSURGSUxFPSIkezE6P3BpZCBmaWxlIGlzIG1pc3Npbmd9IgoKICAgIGlmIFtbIC1mICIkUElERklMRSIgXV07IHRoZW4KICAgICAgICBpZiBbWyAtbiAiJCg8ICIkUElERklMRSIpIiBdXSAmJiBbWyAiJCg8ICIkUElERklMRSIpIiAtZ3QgMCBdXTsgdGhlbgogICAgICAgICAgICBlY2hvICIkKDwgIiRQSURGSUxFIikiCiAgICAgICAgZmkKICAgIGZpCn0KCmlzX2RiX3J1bm5pbmcoKSB7CiAgICBsb2NhbCBQSUQ9IiR7MTo/cGlkIGlzIG1pc3Npbmd9IgogICAga2lsbCAtMCAiJFBJRCIgMj4vZGV2L251bGwKICAgIGVjaG8gJD8KfQoKCmlzX215c3FsX3J1bm5pbmcoKQp7CiAgICBsb2NhbCBQSUQKICAgIFBJRD0iJChnZXRfcGlkICIkTVlTUUxfUElEX0ZJTEUiKSIKICAgIGlmIFtbIC16ICIkUElEIiBdXTsgdGhlbgogICAgICAgZWNobyAxIAogICAgZWxzZQogICAgICAgIGVjaG8gJChpc19kYl9ydW5uaW5nICIkUElEIikKICAgIGZpCn0KCgppc19teXNxbF9hY2Nlc3NpYmxlKCkKewogICBteXNxbCAtdSByb290IDw8ISAyPi9kZXYvbnVsbApzZWxlY3QgdXNlcigpOwohCgpbWyAkPyAtbmUgMCBdXSAmJiBlY2hvICJOT1QgUlVOTklORyIKfQoKCmluaXRfbXlzcWxfZGF0YWJhc2UoKQp7CiAgICBsb2NhbCAtYSBGTEFHUz0oIi0tdXNlcj0kREJVU0VSIiAiLS1iaW5kLWFkZHJlc3M9MTI3LjAuMC4xIiAiLS1pbml0aWFsaXplLWluc2VjdXJlIikKICAgIEZMQUdTKz0oIiRAIikKICAgIFtbIC1kICRNWVNRTF9EQVRBQkFTRV9ESVIgXV0gJiYgZGlzcGxheV9vdXRwdXQgIiR7R1JFRU5GT05UfVJlbW92aW5nIGFsbCBmaWxlcyB1bmRlciBkYXRhYmFzZSBkaXJlY3RvcnkgJE1ZU1FMX0RBVEFCQVNFX0RJUiAuLiIgJiYgcm0gLXJmICRNWVNRTF9EQVRBQkFTRV9ESVIvKgogICAgZGlzcGxheV9vdXRwdXQgIiR7R1JFRU5GT05UfUluaXRpYWxpemluZyBEYXRhYmFzZS4uLiIKICAgIG15c3FsZCAiJHtGTEFHU1tAXX0iCn0KCnJ1bl9teXNxbF90ZW1wX2JnKCkKewogICAgbG9jYWwgLWEgRkxBR1M9KCItLXVzZXI9JERCVVNFUiIgIi0tYmluZC1hZGRyZXNzPTEyNy4wLjAuMSIgIi0tc2tpcC1zbGF2ZS1zdGFydCIpCiAgICBGTEFHUys9KCIkQCIpCiAgICBkaXNwbGF5X291dHB1dCAiJHtHUkVFTkZPTlR9U3RhcnRpbmcgTXlTUUwgaW4gYmFja2dyb3VuZCIKICAgIG15c3FsZCAiJHtGTEFHU1tAXX0iICYKfQoKcmVzZXRfcm9vdF9wYXNzd29yZCgpCnsKICAgIGxvY2FsIFRNUFJPT1RQQVNTV09SRD0iJDEiCiAgICBkaXNwbGF5X291dHB1dCAiJHtHUkVFTkZPTlR9UmVzZXR0aW5nIHJvb3QgcGFzc3dvcmQuLi4iCiAgICBteXNxbCAtLWNvbm5lY3QtZXhwaXJlZC1wYXNzd29yZCAtdSByb290IDw8IQphbHRlciB1c2VyICdyb290J0AnbG9jYWxob3N0JyBpZGVudGlmaWVkIHdpdGggbXlzcWxfbmF0aXZlX3Bhc3N3b3JkIGJ5ICIkTVlTUUxfUk9PVF9QQVNTV09SRCI7CkZMVVNIIFBSSVZJTEVHRVM7CiEKCltbICQ/IC1lcSAwIF1dICYmIGRpc3BsYXlfb3V0cHV0ICIke0dSRUVORk9OVH1yb290IHBhc3N3b3JkIGhhcyBiZWVuIHJlc2V0dGVkIHN1Y2Nlc3NmdWxseSIgfHwgZGlzcGxheV9vdXRwdXQgIiR7UkVERk9OVH1VbmFibGUgdG8gcmVzZXQgcm9vdCBwYXNzd29yZCEhLi4iCgp9CgoKY3JlYXRlX2RiX2FuZF91c2VyKCkKewogIGRpc3BsYXlfb3V0cHV0ICIke0dSRUVORk9OVH1DcmVhdGluZyBEYXRhYmFzZSAke0JMVUVGT05UfSRNWVNRTF9EQVRBQkFTRV9OQU1FIgogIHJ1bl9teXNxbF9jbWQgImNyZWF0ZSBkYXRhYmFzZSAkTVlTUUxfREFUQUJBU0VfTkFNRSA7IiAKICBkaXNwbGF5X291dHB1dCAiJHtHUkVFTkZPTlR9Q3JlYXRpbmcgREJBIHVzZXIgJHtCTFVFRk9OVH0kTVlTUUxfREFUQUJBU0VfVVNFUiR7R1JFRU5GT05UfSBmb3IgZGF0YWJhc2UgJHtCTFVFRk9OVH0kTVlTUUxfREFUQUJBU0VfTkFNRSIKICBydW5fbXlzcWxfY21kICJjcmVhdGUgdXNlciBpZiBub3QgZXhpc3RzICR7TVlTUUxfREFUQUJBU0VfVVNFUn1AJyUnIElERU5USUZJRUQgQlkgJyRNWVNRTF9EQVRBQkFTRV9VU0VSUEFTUyc7IgogIHJ1bl9teXNxbF9jbWQgImdyYW50IGFsbCBvbiAke01ZU1FMX0RBVEFCQVNFX05BTUV9LiogdG8gJyR7TVlTUUxfREFUQUJBU0VfVVNFUn0nQCclJzsiCn0KCmNyZWF0ZV9yZXBsX3VzZXIoKQp7CiAgZGlzcGxheV9vdXRwdXQgIiR7R1JFRU5GT05UfUNyZWF0aW5nIFJlcGxpY2F0aW9uIHVzZXIgJHtCTFVFRk9OVH0kTVlTUUxfUkVQTElDQVRJT05fVVNFUiIKICBydW5fbXlzcWxfY21kICJjcmVhdGUgdXNlciBpZiBub3QgZXhpc3RzICR7TVlTUUxfUkVQTElDQVRJT05fVVNFUn1AJyUnIElERU5USUZJRUQgQlkgJyRNWVNRTF9SRVBMSUNBVElPTl9VU0VSUEFTUyc7IgogIHJ1bl9teXNxbF9jbWQgImdyYW50IFJFUExJQ0FUSU9OIENMSUVOVCBPTiAqLiogdG8gJE1ZU1FMX1JFUExJQ0FUSU9OX1VTRVJAJyUnOwpncmFudCBQUk9DRVNTIE9OICouKiB0byAkTVlTUUxfUkVQTElDQVRJT05fVVNFUkAnJSc7CmZsdXNoIHByaXZpbGVnZXM7IgoKfQoKY3JlYXRlX2JhY2t1cF91c2VyKCkKewogIGRpc3BsYXlfb3V0cHV0ICIke0dSRUVORk9OVH1DcmVhdGluZyBCYWNrdXAgdXNlciAke0JMVUVGT05UfSRNWVNRTF9CQUNLVVBfVVNFUiIKICBydW5fbXlzcWxfY21kICJjcmVhdGUgdXNlciBpZiBub3QgZXhpc3RzICR7TVlTUUxfQkFDS1VQX1VTRVJ9QCclJyBJREVOVElGSUVEIEJZICckTVlTUUxfQkFDS1VQX1VTRVJQQVNTJzsiCiAgcnVuX215c3FsX2NtZCAiZ3JhbnQgUkVMT0FELFBST0NFU1MsTE9DSyBUQUJMRVMsUkVQTElDQVRJT04gQ0xJRU5UIG9uICouKiB0byAkTVlTUUxfQkFDS1VQX1VTRVJAJyUnOwpHUkFOVCBCQUNLVVBfQURNSU4sIFBST0NFU1MsIFJFTE9BRCwgTE9DSyBUQUJMRVMsIFJFUExJQ0FUSU9OIENMSUVOVCBPTiAqLiogdG8gJE1ZU1FMX0JBQ0tVUF9VU0VSQCclJzsKR1JBTlQgU0VMRUNUIE9OIHBlcmZvcm1hbmNlX3NjaGVtYS5sb2dfc3RhdHVzIFRPICRNWVNRTF9CQUNLVVBfVVNFUkAnJSc7CmZsdXNoIHByaXZpbGVnZXM7IgoKfQoKCmNyZWF0ZV9kZWZhdWx0X3BhcmFtZXRlcnMoKQp7CltbICEgLWQgIiRNWVNRTF9CQVNFX0RJUiIgXV0gJiYgbWtkaXIgLXAgIiRNWVNRTF9CQVNFX0RJUiIKY2hvd24gLVJoICREQlVTRVI6JERCVVNFUiAiJE1ZU1FMX0JBU0VfRElSIgoKW1sgISAtZCAiJE1ZU1FMX1RFTVBfRElSIiBdXSAmJiBzdSAtICREQlVTRVIgLXMgL2Jpbi9iYXNoIC1jICJta2RpciBcIiRNWVNRTF9URU1QX0RJUlwiIgpbWyAhIC1kICIkTVlTUUxfTE9HU19ESVIiIF1dICYmIHN1IC0gJERCVVNFUiAtcyAvYmluL2Jhc2ggLWMgIm1rZGlyIFwiJE1ZU1FMX0xPR1NfRElSXCIiCgppZiBbICIke0dBTEVSQV9DTFVTVEVSX0FDVElWRX0iID0gInllcyIgXQp0aGVuCiAgIGlmIFsgIiR7R0FMRVJBX0NMVVNURVJfQUREUkVTU30iID0gImdjb21tOi8vIiBdCiAgIHRoZW4KICAgICAgZGlzcGxheV9vdXRwdXQgIiR7R1JFRU5GT05UfVJ1bm5pbmcgRG9ub3Igbm9kZSBvbiBnYWxlcmEgQ2x1c3RlciAkR0FMRVJBX0NMVVNURVJfTkFNRSAuLi4iCiAgIGVsc2UKICAgICAgZGlzcGxheV9vdXRwdXQgIiR7R1JFRU5GT05UfVJ1bm5pbmcgSm9pbmVyIG5vZGUgb24gZ2FsZXJhIENsdXN0ZXIgJEdBTEVSQV9DTFVTVEVSX05BTUUgLi4uIgogICBmaSAgICAKZWxzZQogIGRpc3BsYXlfb3V0cHV0ICIke0dSRUVORk9OVH1SdW5uaW5nIHNpbmdsZSBub2RlIE15U1FMIFNlcnZlci4uLiIKZmkKCmlmIFsgLWYgL2V0Yy9teS5jbmYuZC8ubG9jYWxkaXIgXQp0aGVuCiAgIGRpc3BsYXlfb3V0cHV0ICIke1JFREZPTlR9VGhlIGRpcmVjdG9yeSAvZXRjL215LmNuZi5kIGlzIG5vdCBtYXBwZWQgdG8gcGVyc2lzdGVudCBkaXNrIgogICBleGl0IDEKZmkKCltbIC1mICRJTklGSUxFICYmICIkTVlTUUxfREJDT05GSUdfUkVCVUlMRCIgPSAibm8iIF1dICYmIGRpc3BsYXlfb3V0cHV0ICIke0JMVUVGT05UfVRoZSAkSU5JRklMRSBhbHJlYWR5IGV4aXN0cyEhLi4uIiAmJiByZXR1cm4KCltbICIkR0FMRVJBX0NMVVNURVJfQUNUSVZFIiA9ICJ5ZXMiIF1dICYmIFdTUkVQX09OPSJ3c3JlcF9vbiA9IG9uIiB8fCBXU1JFUF9PTj0iIgoKZWNobyAiCltteXNxbGRdCmRlZmF1bHRfYXV0aGVudGljYXRpb25fcGx1Z2luPSR7TVlTUUxfQVVUSF9QTFVHSU59CnNraXBfaG9zdF9jYWNoZQpza2lwX25hbWVfcmVzb2x2ZQpleHBsaWNpdF9kZWZhdWx0c19mb3JfdGltZXN0YW1wCmJhc2VkaXI9L3VzcgpkYXRhZGlyPSR7TVlTUUxfREFUQUJBU0VfRElSfQpwb3J0PSR7TVlTUUxfREVGQVVMVF9QT1JUfQp0bXBkaXI9JHtNWVNRTF9URU1QX0RJUn0Kc29ja2V0PSR7TVlTUUxfU09DS0VUX0ZJTEV9CnBpZF9maWxlPSR7TVlTUUxfUElEX0ZJTEV9Cm1heF9hbGxvd2VkX3BhY2tldD0xNk0KYmluZF9hZGRyZXNzPSR7TVlTUUxfQklORF9BRERSRVNTfQpsb2dfZXJyb3I9JHtNWVNRTF9MT0dTX0RJUn0vbXlzcWxkLmxvZwpjaGFyYWN0ZXJfc2V0X3NlcnZlcj0ke01ZU1FMX0RFRkFVTFRfQ0hBUlNFVH0KY29sbGF0aW9uX3NlcnZlcj0ke01ZU1FMX0RFRkFVTFRfQ09MTEFURX0KYmlubG9nX2Zvcm1hdD1yb3cKbG9nX2Jpbj1teXNxbC1iaW4KJFdTUkVQX09OCndzcmVwX3Byb3ZpZGVyPS91c3IvbGliL2xpYmdhbGVyYV9zbW0uc28Kd3NyZXBfc3N0X21ldGhvZD0ke01ZU1FMX1NTVF9NRVRIT0R9CndzcmVwX3NsYXZlX3RocmVhZHM9NAp3c3JlcF9jbHVzdGVyX2FkZHJlc3M9JHtHQUxFUkFfQ0xVU1RFUl9BRERSRVNTfQp3c3JlcF9zc3RfYXV0aD0ke01ZU1FMX0JBQ0tVUF9VU0VSfToke01ZU1FMX0JBQ0tVUF9VU0VSUEFTU30Kd3NyZXBfY2x1c3Rlcl9uYW1lPSR7R0FMRVJBX0NMVVNURVJfTkFNRX0Kd3NyZXBfbm9kZV9uYW1lPSR7R0FMRVJBX0RFRkFVTFRfTk9ERU5BTUV9CndzcmVwX25vZGVfYWRkcmVzcz0ke0dBTEVSQV9ERUZBVUxUX0FERFJFU1N9CgpbY2xpZW50XQpwb3J0PSR7TVlTUUxfREVGQVVMVF9QT1JUfQpzb2NrZXQ9JHtNWVNRTF9TT0NLRVRfRklMRX0KZGVmYXVsdF9jaGFyYWN0ZXJfc2V0PSR7TVlTUUxfREVGQVVMVF9DSEFSU0VUfQoKW21hbmFnZXJdCnBvcnQ9JHtNWVNRTF9ERUZBVUxUX1BPUlR9CnNvY2tldD0ke01ZU1FMX1NPQ0tFVF9GSUxFfQpwaWRfZmlsZT0ke01ZU1FMX1BJRF9GSUxFfQoKCltteXNxbF0KIiA+ICRJTklGSUxFCn0KCgpzaHV0ZG93bl90bXBfbXlzcWwoKQp7CiAgIG15c3FsYWRtaW4gLXUgcm9vdCBzaHV0ZG93bgogICB3aGlsZSBbWyAkKGlzX215c3FsX3J1bm5pbmcpIC1lcSAwIF1dCiAgIGRvCiAgICAgIHNsZWVwIDMKICAgZG9uZQp9CgojTWFpbgoKcm0gLWYgJHtNWVNRTF9MT0dTX0RJUn0vbXlzcWxkLmxvZwpbWyAhIC1MICIke01ZU1FMX0xPR1NfRElSfS9teXNxbGQubG9nIiBdXSAmJiBsbiAtc2YgL2Rldi9zdGRvdXQgIiRNWVNRTF9MT0dTX0RJUiIvbXlzcWxkLmxvZyAmJiB1c2VybW9kIC1hIC1HIHR0eSBteXNxbCAmJiBjaG93biBteXNxbDpteXNxbCAiJE1ZU1FMX0xPR1NfRElSIi9teXNxbGQubG9nCgppZiBbWyAtZiAvLmRvY2tlcmVudiAmJiAkVVNFX0NPTlRBSU5FUl9BRERSRVNTICE9ICJ5ZXMiIF1dCnRoZW4KICAgW1sgIiRHQUxFUkFfREVGQVVMVF9OT0RFTkFNRSIgPSAiJChob3N0bmFtZSAtcykiIF1dICYmIGRpc3BsYXlfb3V0cHV0ICIke1JFREZPTlR9UnVubmluZyBvbiBkb2NrZXIgY29udGFpbmVyIEdBTEVSQV9ERUZBVUxUX05PREVOQU1FIG11c3QgYmUgc2V0IHRvIGhvc3Qgbm9kZW5hbWUiICYmIGV4aXQKICAgW1sgIiRHQUxFUkFfREVGQVVMVF9BRERSRVNTIiA9ICIkKGhvc3RuYW1lIC1pIHwgYXdrICd7cHJpbnQgJDF9JykiIF1dICYmIGRpc3BsYXlfb3V0cHV0ICIke1JFREZPTlR9UnVubmluZyBvbiBkb2NrZXIgY29udGFpbmVyIEdBTEVSQV9ERUZBVUxUX0FERFJFU1MgbXVzdCBiZSBzZXQgdG8gaG9zdCBJUCBhZGRyZXNzIiAmJiBleGl0CmVsc2UKICAgW1sgIiRHQUxFUkFfREVGQVVMVF9OT0RFTkFNRSIgIT0gIiQoaG9zdG5hbWUgLXMpIiBdXSAmJiBleHBvcnQgR0FMRVJBX0RFRkFVTFRfTk9ERU5BTUU9IiQoaG9zdG5hbWUgLXMpIgogICBbWyAiJEdBTEVSQV9ERUZBVUxUX0FERFJFU1MiICE9ICIkKGhvc3RuYW1lIC1pIHwgYXdrICd7cHJpbnQgJDF9JykiIF1dICYmIGV4cG9ydCBHQUxFUkFfREVGQVVMVF9BRERSRVNTPSIkKGhvc3RuYW1lIC1pIHwgYXdrICd7cHJpbnQgJDF9JykiCmZpCgpbWyAiJEdBTEVSQV9DTFVTVEVSX0FDVElWRSIgPSAieWVzIiBdXSAmJiBydW5fY2x1c3RlcgpjcmVhdGVfZGVmYXVsdF9wYXJhbWV0ZXJzCgpbWyAhIC1kICRNWVNRTF9EQVRBQkFTRV9ESVIgXV0gJiYgbWtkaXIgLXAgIiRNWVNRTF9EQVRBQkFTRV9ESVIiIApjaG93biAkREJVU0VSOiREQlVTRVIgIiRNWVNRTF9EQVRBQkFTRV9ESVIiCgoKaWYgW1sgISAtZCAiJE1ZU1FMX0RBVEFCQVNFX0RJUi9teXNxbCIgfHwgIiRNWVNRTF9EQVRBQkFTRV9SRUJVSUxEIiA9ICJ5ZXMiIF1dICYmIFtbICIkR0FMRVJBX0NMVVNURVJfQUREUkVTUyIgPSAiZ2NvbW06Ly8iIF1dCnRoZW4KICAgZGlzcGxheV9vdXRwdXQgIiR7R1JFRU5GT05UfUNoZWNraW5nIHdoZXRoZXIgTXlTUUwgU2VydmVyIGlzIHJ1bm5pbmcuLi4iCiAgIFtbICQoaXNfbXlzcWxfcnVubmluZykgLWVxIDAgXV0gJiYga2lsbCAtOSAiJChnZXRfcGlkICRNWVNRTF9QSURfRklMRSApIgogICAKCiAgIGluaXRfbXlzcWxfZGF0YWJhc2UKCiAgIGRpc3BsYXlfb3V0cHV0ICIke0dSRUVORk9OVH1TdGFydGluZyB1cCBNeVNRTCBTZXJ2ZXIgdGVtcG9yYXJpbHkuLi4iCiAgIHJ1bl9teXNxbF90ZW1wX2JnCiAgIHNsZWVwIDE1CgogICB3PTEKICAgd2hpbGUgW1sgIiQoaXNfbXlzcWxfYWNjZXNzaWJsZSAiJE1ZU1FMX1JPT1RfUEFTU1dPUkQiICkiID0gIk5PVCBSVU5OSU5HIiBdXQogICBkbwogICAgICBbWyAkdyAtZ3QgMTAgXV0gJiYgZGlzcGxheV9vdXRwdXQgIiR7UkVERk9OVH1VbmFibGUgdG8gc3RhcnR1cCBNeVNRTCBTZXJ2ZXIuLi4uIiAmJiBleGl0IDEKICAgICAgZGlzcGxheV9vdXRwdXQgIiR7WUVMTE9XRk9OVH1XYWl0aW5nIGZvciBNeVNRTCBkYXRhYmFzZSB0byBiZSBhY2Nlc3NpYmxlICQoKCB3ICogNSApKSBvZiAkKCggMTAgKiA1ICkpIHNlY29uZHMiCiAgICAgIHNsZWVwIDUKICAgICAgdz0kKCggdyArIDEgKSkKICAgZG9uZQoKICAgY3JlYXRlX2RiX2FuZF91c2VyCiAgIGNyZWF0ZV9yZXBsX3VzZXIKICAgY3JlYXRlX2JhY2t1cF91c2VyCiAgIFtbICQoaXNfbXlzcWxfcnVubmluZykgLWVxIDAgXV0gJiYgc2h1dGRvd25fdG1wX215c3FsCiAgIFtbICEgLUwgIiR7TVlTUUxfTE9HU19ESVJ9L215c3FsZC5sb2ciIF1dICYmIHJtIC1mICIkTVlTUUxfTE9HU19ESVIiL215c3FsZC5sb2cKICAgCiAgICAgIApmaQoKW1sgISAtTCAiJHtNWVNRTF9MT0dTX0RJUn0vbXlzcWxkLmxvZyIgXV0gJiYgbG4gLXNmIC9kZXYvc3Rkb3V0ICIkTVlTUUxfTE9HU19ESVIiL215c3FsZC5sb2cgJiYgdXNlcm1vZCAtYSAtRyB0dHkgbXlzcWwgJiYgY2hvd24gLWggbXlzcWw6bXlzcWwgIiRNWVNRTF9MT0dTX0RJUiIvbXlzcWxkLmxvZwpteXNxbGQgLS11c2VyICREQlVTRVIgLS1sb2ctZXJyb3ItdmVyYm9zaXR5PTMgJFdTUkVQTkVXQ0xVU1RFUgo=" | base64 -d > /usr/local/bin/entrypoint-gmysql8.sh
RUN chmod ugo+x /usr/local/bin/entrypoint-gmysql8.sh
ENTRYPOINT ["/usr/local/bin/entrypoint-gmysql8.sh"]
